<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QOTD Template Generator</title>
    <style>
      html {
        background-color: #18181b !important;
      }

      html {
        color-scheme: dark !important;
      }

      html,
      body,
      input,
      textarea,
      select,
      button,
      dialog {
        background-color: #181a1b;
      }

      html,
      body,
      input,
      textarea,
      select,
      button {
        border-color: #736b5e;
        color: #e8e6e3;
      }

      a {
        color: #3391ff;
      }

      table {
        border-color: #545b5e;
      }

      ::placeholder {
        color: #b2aba1;
      }

      input:-webkit-autofill,
      textarea:-webkit-autofill,
      select:-webkit-autofill {
        background-color: #404400 !important;
        color: #e8e6e3 !important;
      }

      ::-webkit-scrollbar {
        background-color: #202324;
        color: #aba499;
      }

      ::-webkit-scrollbar-thumb {
        background-color: #454a4d;
      }

      ::-webkit-scrollbar-thumb:hover {
        background-color: #575e62;
      }

      ::-webkit-scrollbar-thumb:active {
        background-color: #484e51;
      }

      ::-webkit-scrollbar-corner {
        background-color: #181a1b;
      }

      ::selection {
        background-color: #004daa !important;
        color: #e8e6e3 !important;
      }

      ::-moz-selection {
        background-color: #004daa !important;
        color: #e8e6e3 !important;
      }

      /* Invert Style */
      .jfk-bubble.gtx-bubble,
        .captcheck_answer_label>input+img,
        span#closed_text>img[src^="https://www.gstatic.com/images/branding/googlelogo"],
        span[data-href^="https://www.hcaptcha.com/"]>#icon,
        #bit-notification-bar-iframe,
        ::-webkit-calendar-picker-indicator {
        filter: invert(100%) hue-rotate(180deg) contrast(90%) !important;
      }

      /* Variables Style */
      :root {
        --darkreader-neutral-background: #131516;
        --darkreader-neutral-text: #d8d4cf;
        --darkreader-selection-background: #004daa;
        --darkreader-selection-text: #e8e6e3;
      }

      /* Override Style */
      .vimvixen-hint {
        background-color: #7b5300 !important;
        border-color: #d8b013 !important;
        color: #f3e8c8 !important;
      }

      ::placeholder {
        opacity: 0.5 !important;
      }

      #edge-translate-panel-body,
      .MuiTypography-body1,
      .nfe-quote-text {
        color: var(--darkreader-neutral-text) !important;
      }

      gr-main-header {
        background-color: #0f3a48 !important;
      }

      .tou-z65h9k,
      .tou-mignzq,
      .tou-1b6i2ox,
      .tou-lnqlqk {
        background-color: var(--darkreader-neutral-background) !important;
      }

      .tou-75mvi {
        background-color: #032029 !important;
      }

      .tou-ta9e87,
      .tou-1w3fhi0,
      .tou-1b8t2us,
      .tou-py7lfi,
      .tou-1lpmd9d,
      .tou-1frrtv8,
      .tou-17ezmgn {
        background-color: #0a0a0a !important;
      }

      .tou-uknfeu {
        background-color: #231603 !important;
      }

      .tou-6i3zyv {
        background-color: #19576c !important;
      }

      pre {
        font-family: monospace;
        word-wrap: initial;
      }

      pre {
        margin-top: 0px;
        margin-bottom: 0px;
        white-space: pre-wrap;
        white-space: -moz-pre-wrap;
        white-space: -pre-wrap;
        white-space: -o-pre-wrap;
        word-wrap: break-word;
      }
    </style>
  </head>

  <body>
    <div style="width: 65%">
      <div id="templatetop">
        <pre>@QOTD</pre>
        <br />
      </div>
      <div id="templateqotd">
        <pre>QOTD: Loading...</pre>
        <br />
      </div>
      <div id="templatefotd">
        <pre>FOTD: Loading...</pre>
        <br />
      </div>
      <div id="templatequote">
        <pre>Quote: Loading...</pre>
        <br />
      </div>
      <div id="templatebottom">
        <pre>Answer in <#691121807960440852></pre>
        <br />
      </div>
    </div>
    <script src="jquery.min.js"></script>
    <script>
      $.ajax({
        method: "GET",
        url: "https://api.reddit.com/r/askreddit/new.json?limit=100",
        success: function (result) {
          console.log(result);
          const txt = JSON.stringify(result);
          var obj = JSON.parse(txt);
          var postnum = Math.floor(Math.random() * 100);
          const qotd = obj.data.children[postnum].data.title;
          var qotdString = "QOTD: " + qotd;
          document.getElementById("templateqotd").innerHTML =
            "<pre>" + qotdString + "</pre><br>";
        },
        error: function ajaxError(jqXHR) {
          console.error("Error: ", jqXHR.responseText);
        },
      });
      var emoticon = "";
      var emoticonNum = Math.floor(Math.random() * 7);
      if (emoticonNum == 0) {
        emoticon = ":D";
      } else if (emoticonNum == 1) {
        emoticon = ":>";
      } else if (emoticonNum == 2) {
        emoticon = ":)";
      } else if (emoticonNum == 3) {
        emoticon = ":3";
      } else if (emoticonNum == 4) {
        emoticon = "=)";
      } else if (emoticonNum == 5) {
        emoticon = ":o";
      } else {
        emoticon = ";)";
      }
      document.getElementById("templatebottom").innerHTML =
        "<pre>Answer in <#691121807960440852> " + emoticon + "</pre>";
      $.ajax({
        method: "GET",
        url: "https://uselessfacts.jsph.pl/api/v2/facts/random?language=en",
        contentType: "application/json",
        success: function (result) {
          console.log(result);
          const fact = result.text;
          let factString;

          if (
            !fact.endsWith(".") &&
            !fact.endsWith("?") &&
            !fact.endsWith("!")
          ) {
            factString = "FOTD: " + fact + ".";
            console.log("Period appended to fact");
          } else {
            factString = "FOTD: " + fact;
          }

          document.getElementById("templatefotd").innerHTML =
            "<pre>" + factString + "</pre><br>";
        },
        error: function ajaxError(jqXHR) {
          console.error("Error: ", jqXHR.responseText);
        },
      });

      $.ajax({
        method: "GET",
        url: "https://api.quotable.io/random",
        contentType: "application/json",
        success: function (result) {
          console.log(result);
          const quote = result.content;
          const author = result.author;
          const quoteString = 'Quote: "' + quote + '" - ' + author + "\n";
          document.getElementById("templatequote").innerHTML =
            "<pre>" + quoteString + "</pre><br>";
        },
        error: function ajaxError(jqXHR) {
          console.error("Error: ", jqXHR.responseText);
        },
      });
    </script>
  </body>
</html>
